<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
  <head>
    <div th:replace="fragments/common::head"></div>
    <script async th:src="@{http://localhost:8080/js/checkPassword.js}" type="text/javascript"></script>
  </head>

  <body>

    <header th:insert="fragments/common::navbar"></header>

    <div class="container" style="padding: 2rem;">
      <div class="row justify-content-center">
        <div class="col-6">
          <form th:action="@{/signup/delivery}" th:object = "${user}"  method="POST">
            <h2 class="form-signin-heading pb-3 text-center">Registrar repartidor</h2>

            <div th:if="${#fields.hasErrors('email')}">
              <div class="alert alert-danger alert-dismissible fade show" role="alert">
                <p th:errors="*{email}"> </p>
                <button type="button" class="close" data-dismiss="alert" aria-label="Close">
                  <span aria-hidden="true">&times;</span>
                </button>
              </div>
            </div>

            <div th:if="${#fields.hasErrors('username')}">
              <div class="alert alert-danger alert-dismissible fade show" role="alert">
                <p th:errors="*{username}"> </p>
                <button type="button" class="close" data-dismiss="alert" aria-label="Close">
                  <span aria-hidden="true">&times;</span>
                </button>
              </div>
            </div>

            <div class="form-group">
                <input type="email" path="email" class="form-control" placeholder="Correo electronico"
                            autofocus="true" th:field="*{email}" title="Ingresa un correo valido" required></input>
            </div>

            <div class="form-group">
                <input type="text" path="username" class="form-control" placeholder="Nombre de usuario"
                    autofocus="true" th:field="*{username}" title="Debe tener una longitud de al menos 6 caracteres y maximo 32"
                    pattern=".{6,32}"  required></input>
            </div>

            <div class="form-group">
                <input id="password" type="password" path="password" class="form-control" placeholder="Contrase単a" th:field="*{password}" pattern=".{8,}"
                title="La contrase単a debe ser de al menos 8 caracteres" required></input>
            </div>

            <div class="form-group">
                <input id="passwordConfirm" type="password" class="form-control"
                  placeholder="Confirma la contrase単a" title="La contrase単a debe ser de al menos 8 caracteres"
                  pattern=".{8,}" required></input>
            </div>

            <button class="btn btn-lg btn-primary btn-block" type="submit">Registrar</button>
          </form>
        </div>
      </div>
    </div>

  </body>
</html>
